import{ag as q,ah as ee,ai as H,t as j,aj as te,M as I,ak as P,X as F,al as V,am as G,i as ne,an as oe,ao as re,a as N,W as K,ap as W,U as ae,u as ie}from"./index-CV0LAtof.js";function ue(e){return oe()?(re(e),!0):!1}function _e(e){let t=!1,n;const o=q(!0);return(...a)=>(t||(n=o.run(()=>e(...a)),t=!0),n)}const x=new WeakMap,se=(...e)=>{var t;const n=e[0],o=(t=V())==null?void 0:t.proxy;if(o==null&&!G())throw new Error("injectLocal must be called in setup");return o&&x.has(o)&&n in x.get(o)?x.get(o)[n]:ne(...e)},le=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ce=e=>typeof e<"u",fe=Object.prototype.toString,de=e=>fe.call(e)==="[object Object]",pe=()=>{};function me(e,t){function n(...o){return new Promise((a,p)=>{Promise.resolve(e(()=>t.apply(this,o),{fn:t,thisArg:this,args:o})).then(a).catch(p)})}return n}const Q=e=>e();function he(e=Q){const t=j(!0);function n(){t.value=!1}function o(){t.value=!0}const a=(...p)=>{t.value&&e(...p)};return{isActive:H(t),pause:n,resume:o,eventFilter:a}}function $(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function ye(e){return V()}function J(e){return Array.isArray(e)?e:[e]}function ge(...e){if(e.length!==1)return ee(...e);const t=e[0];return typeof t=="function"?H(te(()=>({get:t,set:pe}))):j(t)}function ve(e,t,n={}){const{eventFilter:o=Q,...a}=n;return F(e,me(o,t),a)}function Se(e,t,n={}){const{eventFilter:o,...a}=n,{eventFilter:p,pause:v,resume:i,isActive:u}=he(o);return{stop:ve(e,t,{...a,eventFilter:p}),pause:v,resume:i,isActive:u}}function U(e,t=!0,n){ye()?I(e,n):t?e():P(e)}function we(e,t,n){return F(e,t,{...n,immediate:!0})}const L=le?window:void 0;function X(e){var t;const n=W(e);return(t=n==null?void 0:n.$el)!=null?t:n}function R(...e){const t=[],n=()=>{t.forEach(i=>i()),t.length=0},o=(i,u,s,m)=>(i.addEventListener(u,s,m),()=>i.removeEventListener(u,s,m)),a=N(()=>{const i=J(W(e[0])).filter(u=>u!=null);return i.every(u=>typeof u!="string")?i:void 0}),p=we(()=>{var i,u;return[(u=(i=a.value)==null?void 0:i.map(s=>X(s)))!=null?u:[L].filter(s=>s!=null),J(W(a.value?e[1]:e[0])),J(ie(a.value?e[2]:e[1])),W(a.value?e[3]:e[2])]},([i,u,s,m])=>{if(n(),!(i!=null&&i.length)||!(u!=null&&u.length)||!(s!=null&&s.length))return;const S=de(m)?{...m}:m;t.push(...i.flatMap(M=>u.flatMap(l=>s.map(f=>o(M,l,f,S)))))},{flush:"post"}),v=()=>{p(),n()};return ue(n),v}function be(){const e=j(!1),t=V();return t&&I(()=>{e.value=!0},t),e}function Ce(e){const t=be();return N(()=>(t.value,!!e()))}const Me=Symbol("vueuse-ssr-width");function Oe(){const e=G()?se(Me,null):null;return typeof e=="number"?e:void 0}function Ae(e,t={}){const{window:n=L,ssrWidth:o=Oe()}=t,a=Ce(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),p=j(typeof o=="number"),v=K(),i=j(!1),u=s=>{i.value=s.matches};return ae(()=>{if(p.value){p.value=!a.value;const s=W(e).split(",");i.value=s.some(m=>{const S=m.includes("not all"),M=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),l=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let f=!!(M||l);return M&&f&&(f=o>=$(M[1])),l&&f&&(f=o<=$(l[1])),S?!f:f});return}a.value&&(v.value=n.matchMedia(W(e)),i.value=v.value.matches)}),R(v,"change",u,{passive:!0}),N(()=>i.value)}function Ee(e){return JSON.parse(JSON.stringify(e))}const z=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D="__vueuse_ssr_handlers__",Ne=We();function We(){return D in z||(z[D]=z[D]||{}),z[D]}function Y(e,t){return Ne[e]||t}function Te(e){return Ae("(prefers-color-scheme: dark)",e)}function je(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ke={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},B="vueuse-storage";function Z(e,t,n,o={}){var a;const{flush:p="pre",deep:v=!0,listenToStorageChanges:i=!0,writeDefaults:u=!0,mergeDefaults:s=!1,shallow:m,window:S=L,eventFilter:M,onError:l=r=>{console.error(r)},initOnMounted:f}=o,h=(m?K:j)(typeof t=="function"?t():t),w=N(()=>W(e));if(!n)try{n=Y("getDefaultStorage",()=>{var r;return(r=L)==null?void 0:r.localStorage})()}catch(r){l(r)}if(!n)return h;const b=W(t),E=je(b),d=(a=o.serializer)!=null?a:ke[E],{pause:y,resume:C}=Se(h,()=>k(h.value),{flush:p,deep:v,eventFilter:M});F(w,()=>A(),{flush:p}),S&&i&&U(()=>{n instanceof Storage?R(S,"storage",A,{passive:!0}):R(S,B,T),f&&A()}),f||A();function O(r,c){if(S){const g={key:w.value,oldValue:r,newValue:c,storageArea:n};S.dispatchEvent(n instanceof Storage?new StorageEvent("storage",g):new CustomEvent(B,{detail:g}))}}function k(r){try{const c=n.getItem(w.value);if(r==null)O(c,null),n.removeItem(w.value);else{const g=d.write(r);c!==g&&(n.setItem(w.value,g),O(c,g))}}catch(c){l(c)}}function _(r){const c=r?r.newValue:n.getItem(w.value);if(c==null)return u&&b!=null&&n.setItem(w.value,d.write(b)),b;if(!r&&s){const g=d.read(c);return typeof s=="function"?s(g,b):E==="object"&&!Array.isArray(g)?{...b,...g}:g}else return typeof c!="string"?c:d.read(c)}function A(r){if(!(r&&r.storageArea!==n)){if(r&&r.key==null){h.value=b;return}if(!(r&&r.key!==w.value)){y();try{(r==null?void 0:r.newValue)!==d.write(h.value)&&(h.value=_(r))}catch(c){l(c)}finally{r?P(C):C()}}}}function T(r){A(r.detail)}return h}const Fe="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ze(e={}){const{selector:t="html",attribute:n="class",initialValue:o="auto",window:a=L,storage:p,storageKey:v="vueuse-color-scheme",listenToStorageChanges:i=!0,storageRef:u,emitAuto:s,disableTransition:m=!0}=e,S={auto:"",light:"light",dark:"dark",...e.modes||{}},M=Te({window:a}),l=N(()=>M.value?"dark":"light"),f=u||(v==null?ge(o):Z(v,o,p,{window:a,listenToStorageChanges:i})),h=N(()=>f.value==="auto"?l.value:f.value),w=Y("updateHTMLAttrs",(y,C,O)=>{const k=typeof y=="string"?a==null?void 0:a.document.querySelector(y):X(y);if(!k)return;const _=new Set,A=new Set;let T=null;if(C==="class"){const c=O.split(/\s/g);Object.values(S).flatMap(g=>(g||"").split(/\s/g)).filter(Boolean).forEach(g=>{c.includes(g)?_.add(g):A.add(g)})}else T={key:C,value:O};if(_.size===0&&A.size===0&&T===null)return;let r;m&&(r=a.document.createElement("style"),r.appendChild(document.createTextNode(Fe)),a.document.head.appendChild(r));for(const c of _)k.classList.add(c);for(const c of A)k.classList.remove(c);T&&k.setAttribute(T.key,T.value),m&&(a.getComputedStyle(r).opacity,document.head.removeChild(r))});function b(y){var C;w(t,n,(C=S[y])!=null?C:y)}function E(y){e.onChanged?e.onChanged(y,b):b(y)}F(h,E,{flush:"post",immediate:!0}),U(()=>E(h.value));const d=N({get(){return s?f.value:h.value},set(y){f.value=y}});return Object.assign(d,{store:f,system:l,state:h})}function De(e,t,n={}){const{window:o=L}=n;return Z(e,t,o==null?void 0:o.localStorage,n)}function Ve(e,t,n,o={}){var a,p,v;const{clone:i=!1,passive:u=!1,eventName:s,deep:m=!1,defaultValue:S,shouldEmit:M}=o,l=V(),f=n||(l==null?void 0:l.emit)||((a=l==null?void 0:l.$emit)==null?void 0:a.bind(l))||((v=(p=l==null?void 0:l.proxy)==null?void 0:p.$emit)==null?void 0:v.bind(l==null?void 0:l.proxy));let h=s;h=h||`update:${t.toString()}`;const w=d=>i?typeof i=="function"?i(d):Ee(d):d,b=()=>ce(e[t])?w(e[t]):S,E=d=>{M?M(d)&&f(h,d):f(h,d)};if(u){const d=b(),y=j(d);let C=!1;return F(()=>e[t],O=>{C||(C=!0,y.value=w(O),P(()=>C=!1))}),F(y,O=>{!C&&(O!==e[t]||m)&&E(O)},{deep:m}),y}else return N({get(){return b()},set(d){E(d)}})}export{De as a,Ve as b,_e as c,ze as u};
